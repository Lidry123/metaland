CREATE extension IF NOT EXISTS "postgis";

CREATE TABLE IF NOT EXISTS us_user (
	pk_user_oid serial4 NOT NULL,
	user_name varchar(50) NOT NULL,
	"password" varchar(500) NOT NULL,
	email varchar(50) NOT NULL,
	fk_role int4 NOT NULL,
	affiliation varchar(100) NOT NULL,
	time_gene timestamptz NOT NULL,
	time_login timestamptz NULL,
	count int4 NOT NULL,
	CONSTRAINT us_user_pkey PRIMARY KEY (pk_user_oid)
);

delete from us_user;
INSERT INTO us_user
(pk_user_oid, user_name, "password", email, fk_role, affiliation, time_gene, time_login, count)
VALUES(6, 'admin', 'a06afc144c34fd15ab3daa954ea80e84', 'admin@admin.com', 1, '地理所', '2024-04-10 11:32:22.997', '2024-04-15 22:19:58.464', 0);



CREATE TABLE IF NOT EXISTS us_role (
	pk_role_oid serial4 NOT NULL,
	role_name varchar(50) NOT NULL,
	status varchar(100) NOT NULL,
	CONSTRAINT "US_ROLE_pkey" PRIMARY KEY (pk_role_oid)
);

delete from us_role;
INSERT INTO us_role
(pk_role_oid, role_name, status)
VALUES(1, '超级管理员', '1');
INSERT INTO us_role
(pk_role_oid, role_name, status)
VALUES(2, '普通管理员', '1');
INSERT INTO us_role
(pk_role_oid, role_name, status)
VALUES(3, '普用户', '1');
INSERT INTO us_role
(pk_role_oid, role_name, status)
VALUES(4, '数管理员', '1');


DROP TABLE IF EXISTS SYS_INFO;
CREATE TABLE SYS_INFO(
    ID BIGINT NOT NULL,
    CREATE_TIME TIMESTAMP,
    UPDATE_TIME TIMESTAMP,
    NAME VARCHAR(255),
    KEY VARCHAR(255),
    VALUE VARCHAR(255),
    PUB INT4,
    PRIMARY KEY (ID)
);

COMMENT ON TABLE SYS_INFO IS '系统信息';
COMMENT ON COLUMN SYS_INFO.ID IS '主键';
COMMENT ON COLUMN SYS_INFO.CREATE_TIME IS '创建时间';
COMMENT ON COLUMN SYS_INFO.UPDATE_TIME IS '更新时间';
COMMENT ON COLUMN SYS_INFO.NAME IS '名称';
COMMENT ON COLUMN SYS_INFO.KEY IS '标识';
COMMENT ON COLUMN SYS_INFO.VALUE IS '值';
COMMENT ON COLUMN SYS_INFO.PUB IS '是否公开';

INSERT INTO sys_info (id,create_time,update_time,"name","key",value,pub) VALUES
	 (1,'2024-03-31 01:25:04.651968','2024-03-31 01:25:10.748434','系统名称','SYS_NAME','元园区框架系统',1);



DROP TABLE IF EXISTS BIZ_CATALOG_NODE;
CREATE TABLE BIZ_CATALOG_NODE(
    ID BIGINT NOT NULL,
    PID BIGINT default 0,
    CREATE_TIME TIMESTAMP,
    UPDATE_TIME TIMESTAMP,
    NAME VARCHAR(255),
    TYPE VARCHAR(255),
    PROPS TEXT,
    VISIBLE boolean,
    DATASET_ID BIGINT,
    REMARK VARCHAR(255),
    ORDER_NUM INT4 default 0,
    PRIMARY KEY (ID)
);


COMMENT ON TABLE BIZ_CATALOG_NODE IS '数据目录节点';
COMMENT ON COLUMN BIZ_CATALOG_NODE.ID IS '主键';
COMMENT ON COLUMN BIZ_CATALOG_NODE.CREATE_TIME IS '创建时间';
COMMENT ON COLUMN BIZ_CATALOG_NODE.UPDATE_TIME IS '更新时间';
COMMENT ON COLUMN BIZ_CATALOG_NODE.TYPE IS '节点类型编码;0000 目录节点
0101 矢量
0201 影像0301 XYZ 服务 0302 地形 0303 WMTS 0304 矢量瓦片...0401 孪生对象0501 模拟数据0601 模型0710 表格-元数据';
COMMENT ON COLUMN BIZ_CATALOG_NODE.PROPS IS '扩展属性json';
COMMENT ON COLUMN BIZ_CATALOG_NODE.DATASET_ID IS '数据集ID;对应各类数据集ID';
COMMENT ON COLUMN BIZ_CATALOG_NODE.REMARK IS '备注';
COMMENT ON COLUMN BIZ_CATALOG_NODE.ORDER_NUM IS '顺序号';

delete from biz_catalog_node;
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774318866923520001,0,'2024-03-31 14:12:37.000','2024-04-01 13:35:48.398','基础背景数据','0000','{}',NULL,NULL,1,true),
	 (1774322246316195841,0,'2024-03-31 14:26:03.000','2024-04-01 13:38:09.630','静态孪生对象','0000','{}',NULL,NULL,5,true),
	 (1774322614718693378,1774322585949962242,'2024-03-31 14:27:31.333','2024-03-31 14:27:31.333','海洋表面温度','0601',NULL,NULL,NULL,0,true),
	 (1774322630841597954,1774322585949962242,'2024-03-31 14:27:35.174','2024-03-31 14:27:35.174','盐度','0601',NULL,NULL,NULL,0,true),
	 (1774322659425779714,1774322585949962242,'2024-03-31 14:27:41.988','2024-03-31 14:27:41.988','总磷','0601',NULL,NULL,NULL,0,true),
	 (1774322674948898817,1774322585949962242,'2024-03-31 14:27:45.686','2024-03-31 14:27:45.686','总氮','0601',NULL,NULL,NULL,0,true),
	 (1774321254828867586,0,'2024-03-31 14:22:07.000','2024-04-01 13:36:56.871','地理数据','0000','{}',NULL,NULL,2,true),
	 (1774320498096734209,1774318866923520001,'2024-03-31 14:19:06.688','2024-03-31 14:19:06.688','行政区划','0000',NULL,NULL,NULL,0,true),
	 (1774320563435601922,1774320498096734209,'2024-03-31 14:19:22.000','2024-04-01 14:16:36.191','一级行政区','0301','{"type":"xyz"}',NULL,NULL,0,true),
	 (1774320530078302210,1774320498096734209,'2024-03-31 14:19:14.000','2024-04-01 13:20:34.701','国家','0301','"{}"',NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774320605886152705,1774318866923520001,'2024-03-31 14:19:32.389','2024-03-31 14:19:32.389','交通路网','0000',NULL,NULL,NULL,0,true),
	 (1774320628220821506,1774320605886152705,'2024-03-31 14:19:37.709','2024-03-31 14:19:37.709','公路','0301',NULL,NULL,NULL,0,true),
	 (1774320650761011201,1774320605886152705,'2024-03-31 14:19:43.086','2024-03-31 14:19:43.086','铁路','0301',NULL,NULL,NULL,0,true),
	 (1774320669559881730,1774318866923520001,'2024-03-31 14:19:47.573','2024-03-31 14:19:47.573','水系数据','0000',NULL,NULL,NULL,0,true),
	 (1774320698873872386,1774320669559881730,'2024-03-31 14:19:54.558','2024-03-31 14:19:54.558','河流','0301',NULL,NULL,NULL,0,true),
	 (1774320732944203777,1774320669559881730,'2024-03-31 14:20:02.678','2024-03-31 14:20:02.678','湖泊','0301',NULL,NULL,NULL,0,true),
	 (1774321111371087873,1774320757149532162,'2024-03-31 14:21:32.901','2024-03-31 14:21:32.901','港口_点','0301',NULL,NULL,NULL,0,true),
	 (1774321140190150657,1774320757149532162,'2024-03-31 14:21:39.782','2024-03-31 14:21:39.782','机场_面','0301',NULL,NULL,NULL,0,true),
	 (1774321172398211073,1774320757149532162,'2024-03-31 14:21:47.462','2024-03-31 14:21:47.462','港口_面','0301',NULL,NULL,NULL,0,true),
	 (1774321205055062018,1774318866923520001,'2024-03-31 14:21:55.237','2024-03-31 14:21:55.237','DEM','0000',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774322585949962242,0,'2024-03-31 14:27:24.000','2024-04-01 13:39:59.069','海洋环境场对象','0000','{}',NULL,NULL,7,true),
	 (1774321273258639361,1774321254828867586,'2024-03-31 14:22:11.503','2024-03-31 14:22:11.503','水下地形','0000',NULL,NULL,NULL,0,true),
	 (1774321292678266881,1774321254828867586,'2024-03-31 14:22:16.141','2024-03-31 14:22:16.141','解译数据','0000',NULL,NULL,NULL,0,true),
	 (1774321363008356353,1774321292678266881,'2024-03-31 14:22:32.901','2024-03-31 14:22:32.901','地貌','0301',NULL,NULL,NULL,0,true),
	 (1774321380368580610,1774321292678266881,'2024-03-31 14:22:37.040','2024-03-31 14:22:37.040','潮滩','0301',NULL,NULL,NULL,0,true),
	 (1774321398571859969,1774321292678266881,'2024-03-31 14:22:41.381','2024-03-31 14:22:41.381','泻湖','0301',NULL,NULL,NULL,0,true),
	 (1774321416699641858,1774321292678266881,'2024-03-31 14:22:45.701','2024-03-31 14:22:45.701','湿地','0301',NULL,NULL,NULL,0,true),
	 (1774321434672234498,1774321292678266881,'2024-03-31 14:22:49.989','2024-03-31 14:22:49.989','植被','0301',NULL,NULL,NULL,0,true),
	 (1774321451910823937,1774321292678266881,'2024-03-31 14:22:54.102','2024-03-31 14:22:54.102','建筑物','0301',NULL,NULL,NULL,0,true),
	 (1774321470671945730,1774321292678266881,'2024-03-31 14:22:58.573','2024-03-31 14:22:58.573','道路','0301',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774321502095671297,1774321292678266881,'2024-03-31 14:23:06.069','2024-03-31 14:23:06.069','岸线','0301',NULL,NULL,NULL,0,true),
	 (1774321520634494977,1774321292678266881,'2024-03-31 14:23:10.477','2024-03-31 14:23:10.477','机场_点','0301',NULL,NULL,NULL,0,true),
	 (1774321539383033857,1774321292678266881,'2024-03-31 14:23:14.957','2024-03-31 14:23:14.957','港口_点','0301',NULL,NULL,NULL,0,true),
	 (1774321556835532801,1774321292678266881,'2024-03-31 14:23:19.109','2024-03-31 14:23:19.109','机场_面','0301',NULL,NULL,NULL,0,true),
	 (1774321573793103873,1774321292678266881,'2024-03-31 14:23:23.156','2024-03-31 14:23:23.156','港口_面','0301',NULL,NULL,NULL,0,true),
	 (1774321591027499010,1774321292678266881,'2024-03-31 14:23:27.270','2024-03-31 14:23:27.270','碉堡','0301',NULL,NULL,NULL,0,true),
	 (1774321664360710145,0,'2024-03-31 14:23:44.000','2024-04-01 13:38:54.428','遥感数据','0000','{}',NULL,NULL,3,true),
	 (1774321730639101953,1774321695633440770,'2024-03-31 14:24:00.549','2024-03-31 14:24:00.549','Sentinel-1','0201',NULL,NULL,NULL,0,true),
	 (1774321758980014082,1774321695633440770,'2024-03-31 14:24:07.317','2024-03-31 14:24:07.317','Sentinel-2','0201',NULL,NULL,NULL,0,true),
	 (1774321775585263618,1774321695633440770,'2024-03-31 14:24:11.262','2024-03-31 14:24:11.262','Landsat','0201',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774321792077266946,1774321695633440770,'2024-03-31 14:24:15.198','2024-03-31 14:24:15.198','GF','0201',NULL,NULL,NULL,0,true),
	 (1774321812956512258,1774321695633440770,'2024-03-31 14:24:20.181','2024-03-31 14:24:20.181','WorldView','0201',NULL,NULL,NULL,0,true),
	 (1774321829549178882,1774321695633440770,'2024-03-31 14:24:24.142','2024-03-31 14:24:24.142','GeoEye','0201',NULL,NULL,NULL,0,true),
	 (1774321858275966977,1774321664360710145,'2024-03-31 14:24:30.988','2024-03-31 14:24:30.988','无人机影像','0201',NULL,NULL,NULL,0,true),
	 (1774321914844545026,1774321893537480705,'2024-03-31 14:24:44.469','2024-03-31 14:24:44.469','海表叶绿素a浓度','0201',NULL,NULL,NULL,0,true),
	 (1774321931038752770,1774321893537480705,'2024-03-31 14:24:48.332','2024-03-31 14:24:48.332','海洋表面温度','0201',NULL,NULL,NULL,0,true),
	 (1774321945014173698,1774321893537480705,'2024-03-31 14:24:51.670','2024-03-31 14:24:51.670','海水透明度','0201',NULL,NULL,NULL,0,true),
	 (1774321963620106242,1774321893537480705,'2024-03-31 14:24:56.101','2024-03-31 14:24:56.101','悬浮泥沙浓度','0201',NULL,NULL,NULL,0,true),
	 (1774321979961114626,1774321893537480705,'2024-03-31 14:24:59.997','2024-03-31 14:24:59.997','有色溶解有机物含量','0201',NULL,NULL,NULL,0,true),
	 (1774321999309438977,1774321893537480705,'2024-03-31 14:25:04.613','2024-03-31 14:25:04.613','风速','0201',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774322017474969602,1774321893537480705,'2024-03-31 14:25:08.940','2024-03-31 14:25:08.940','风向','0201',NULL,NULL,NULL,0,true),
	 (1774322040929517569,1774321893537480705,'2024-03-31 14:25:14.525','2024-03-31 14:25:14.525','有效波高','0201',NULL,NULL,NULL,0,true),
	 (1774322994038964226,0,'2024-03-31 14:29:01.000','2024-04-01 13:40:03.661','海洋动力孪生对象','0000','{}',NULL,NULL,8,true),
	 (1774322088690057218,1774322069123629057,'2024-03-31 14:25:25.917','2024-03-31 14:25:25.917','降水循环动力模型','0501',NULL,NULL,NULL,0,true),
	 (1774322105622462466,1774322069123629057,'2024-03-31 14:25:29.949','2024-03-31 14:25:29.949','滩沙演变动力模型','0501',NULL,NULL,NULL,0,true),
	 (1774322123322425346,1774322069123629057,'2024-03-31 14:25:34.173','2024-03-31 14:25:34.173','植被绿度动力模型','0501',NULL,NULL,NULL,0,true),
	 (1774322141714448385,1774322069123629057,'2024-03-31 14:25:38.557','2024-03-31 14:25:38.557','植被绿度承载力模型','0501',NULL,NULL,NULL,0,true),
	 (1774322157136904193,1774322069123629057,'2024-03-31 14:25:42.230','2024-03-31 14:25:42.230','高精度水动力模型','0501',NULL,NULL,NULL,0,true),
	 (1774322175436652546,1774322069123629057,'2024-03-31 14:25:46.598','2024-03-31 14:25:46.598','水环境容量计算模型','0501',NULL,NULL,NULL,0,true),
	 (1774322191714746370,1774322069123629057,'2024-03-31 14:25:50.484','2024-03-31 14:25:50.484','压力-状态-响应模型','0501',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774321695633440770,1774321664360710145,'2024-03-31 14:23:52.000','2024-04-01 13:38:24.341','卫星影像','0000','{}',NULL,NULL,0,true),
	 (1774322270546690050,1774322246316195841,'2024-03-31 14:26:09.284','2024-03-31 14:26:09.284','道路','0401',NULL,NULL,NULL,0,true),
	 (1774322290725486593,1774322246316195841,'2024-03-31 14:26:14.087','2024-03-31 14:26:14.087','管道','0401',NULL,NULL,NULL,0,true),
	 (1774322306634481666,1774322246316195841,'2024-03-31 14:26:17.878','2024-03-31 14:26:17.878','建筑物','0401',NULL,NULL,NULL,0,true),
	 (1774322325286551554,1774322246316195841,'2024-03-31 14:26:22.327','2024-03-31 14:26:22.327','港口','0401',NULL,NULL,NULL,0,true),
	 (1774322347356979201,1774322270546690050,'2024-03-31 14:26:27.589','2024-03-31 14:26:27.589','道路','0401',NULL,NULL,NULL,0,true),
	 (1774322371289677825,1774322270546690050,'2024-03-31 14:26:33.293','2024-03-31 14:26:33.293','路灯','0401',NULL,NULL,NULL,0,true),
	 (1774322392345083905,1774322290725486593,'2024-03-31 14:26:38.316','2024-03-31 14:26:38.316','管道','0401',NULL,NULL,NULL,0,true),
	 (1774322428961357825,1774322290725486593,'2024-03-31 14:26:47.053','2024-03-31 14:26:47.053','阀门','0401',NULL,NULL,NULL,0,true),
	 (1774322470812123138,1774322306634481666,'2024-03-31 14:26:57.028','2024-03-31 14:26:57.028','建筑物','0401',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774322495399133185,1774322306634481666,'2024-03-31 14:27:02.884','2024-03-31 14:27:02.884','大门','0401',NULL,NULL,NULL,0,true),
	 (1774322520162304001,1774322325286551554,'2024-03-31 14:27:08.797','2024-03-31 14:27:08.797','港口','0401',NULL,NULL,NULL,0,true),
	 (1774322548914257921,1774322325286551554,'2024-03-31 14:27:15.637','2024-03-31 14:27:15.637','码头','0401',NULL,NULL,NULL,0,true),
	 (1774322069123629057,0,'2024-03-31 14:25:21.000','2024-04-01 13:39:52.584','模拟数据','0000','{}',NULL,NULL,6,true),
	 (1774323014771408897,1774322994038964226,'2024-03-31 14:29:06.716','2024-03-31 14:29:06.716','泻湖水动力扩散过程','0601',NULL,NULL,NULL,0,true),
	 (1774323032932745217,1774322994038964226,'2024-03-31 14:29:11.036','2024-03-31 14:29:11.036','植被绿度动态变化过程','0601',NULL,NULL,NULL,0,true),
	 (1774321893537480705,0,'2024-03-31 14:24:39.000','2024-04-01 13:39:06.454','遥感反演数据','0000','{}',NULL,NULL,4,true),
	 (1774320757149532162,1774318866923520001,'2024-03-31 14:20:08.447','2024-03-31 14:20:08.447','重点设施','0000',NULL,NULL,NULL,0,true),
	 (1774321624980389889,1774321254828867586,'2024-03-31 14:23:35.366','2024-03-31 14:23:35.366','解译数越南DK1海上油气平台','0000',NULL,NULL,NULL,0,true),
	 (1774322209074970626,1774322069123629057,'2024-03-31 14:25:54.621','2024-03-31 14:25:54.621','泻湖水质平均污染指数综合评估模型','0501',NULL,NULL,NULL,0,true);
INSERT INTO biz_catalog_node (id,pid,create_time,update_time,"name","type",props,dataset_id,remark,order_num,visible) VALUES
	 (1774320585682190338,1774320498096734209,'2024-03-31 14:19:27.000','2024-04-01 14:16:31.223','二级行政区','0301','{"type":"xyz","url":"aaaa"}',NULL,NULL,0,true),
	 (1774320803362373633,1774320757149532162,'2024-03-31 14:20:19.000','2024-04-02 13:14:47.438','机场_点','0301','{"type":"xyz","url":"http://124.70.39.200:8082/tile/DataServer?T=img_c&x={x}&y={y}&l={z}","zoomStart":6,"zoomEnd":18,"xmin":"-180","ymin":"-90","xmax":"180","ymax":"90"}',NULL,NULL,0,true);
